{"version":3,"sources":["App.module.css","components/Result/Result.module.css","components/Examples/Examples.module.css","components/Map/Map.module.css","components/Search/Search.module.css","components/Search/LogoSvg.js","components/Map/Map.js","api-config.js","components/Result/Result.js","components/Search/Search.js","components/Examples/Examples.js","api-helper.js","App.js","index.js"],"names":["module","exports","LogoSvg","xmlns","version","id","viewBox","width","className","classes","st0","d","Map","props","useState","height","viewport","setViewport","useEffect","prevState","latitude","location","longitude","zoom","memoizedMarker","useCallback","marker","ip","mapStyle","mapboxApiAccessToken","onViewportChange","nextViewport","Result","resultsSections","result","data","isIpOfClient","city","country","flag","alt","src","img","ready","Search","React","forwardRef","ref","search","type","placeholder","htmlFor","onClick","Examples","examplesAreOpen","setExamplesAreOpen","buttonText","examples","examplesButton","examplesCon","state","map","example","fetchExample","bind","unsplash","createApi","accessKey","getIpData","a","error","Error","fetch","rawIpData","json","ipData","country_name","getImg","countryImg","country_flag","message","getPhotos","query","imgData","response","results","urls","small","initialUserData","App","userData","setUserData","setError","inputRef","useRef","fetchIPdata","cleanSearchBar","current","value","app","title","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.41ce4171.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"App_section__2cfNy\",\"narrow\":\"App_narrow__SiuTA\",\"title\":\"App_title__Zi-KC\",\"st0\":\"App_st0__1aPOG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"result\":\"Result_result__NtMLz\",\"flag\":\"Result_flag__3qdat\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"examples\":\"Examples_examples__1-80J\",\"examplesButton\":\"Examples_examplesButton__3kk_P\",\"examplesCon\":\"Examples_examplesCon__2Tvmu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"marker\":\"Map_marker__3TXMr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Search_search__DeuRc\"};","import React from 'react';\r\nimport classes from '../../App.module.css';\r\nconst LogoSvg = () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      version=\"1.1\"\r\n      id=\"Layer_1\"\r\n      viewBox=\"-30 20 107 122.88\"\r\n      width=\"7%\"\r\n    >\r\n      <g>\r\n        <path\r\n          className={classes.st0}\r\n          d=\"M90.73,63.42c-3.11,15.04-10.8,30.33-22.18,42.8l-0.03,0.05c-5.6,6.12-12.09,11.61-19.42,16.06 c-0.88,0.66-2.13,0.75-3.13,0.11c-10.8-6.87-19.85-15.13-26.99-24.09C9.15,86.02,2.94,72.34,0.83,59.16 c-2.15-13.36-0.14-26.2,6.51-36.68c2.63-4.13,5.97-7.89,10.07-11.14C26.78,3.88,37.51-0.07,48.17,0 c10.28,0.09,20.42,3.9,29.22,11.93c3.09,2.81,5.67,5.99,7.78,9.48C92.32,33.18,93.86,48.22,90.73,63.42L90.73,63.42z M29.21,31.63 h8.91v28.73h-8.91V31.63L29.21,31.63z M42.98,31.63h14.77c3.22,0,5.63,0.76,7.23,2.29c1.6,1.53,2.4,3.71,2.4,6.54 c0,2.9-0.88,5.18-2.62,6.81c-1.75,1.64-4.41,2.45-8,2.45h-4.87v10.63h-8.91V31.63L42.98,31.63z M51.89,43.91h2.19 c1.73,0,2.94-0.3,3.63-0.9c0.7-0.6,1.04-1.36,1.04-2.29c0-0.9-0.3-1.66-0.91-2.29c-0.6-0.63-1.74-0.94-3.41-0.94h-2.54V43.91 L51.89,43.91z M46.13,13.25c9.23,0,17.62,3.75,23.65,9.81c6.06,6.06,9.81,14.41,9.81,23.65c0,9.23-3.75,17.62-9.81,23.65 c-6.06,6.06-14.41,9.81-23.65,9.81c-9.23,0-17.62-3.75-23.65-9.81c-6.06-6.06-9.81-14.41-9.81-23.65c0-9.23,3.75-17.61,9.81-23.65 C28.55,17,36.89,13.25,46.13,13.25L46.13,13.25L46.13,13.25z\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default LogoSvg;\r\n","import * as React from 'react';\r\nimport { useCallback, useEffect, useState } from 'react';\r\nimport ReactMapGL, { Marker } from 'react-map-gl';\r\nimport classes from './Map.module.css';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport { MAPBOX_API_KEY } from '../../api-config';\r\nfunction Map(props) {\r\n  const [viewport, setViewport] = useState({\r\n    width: '100%',\r\n    height: 450,\r\n  });\r\n  useEffect(() => {\r\n    setViewport((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        latitude: props.location.latitude,\r\n        longitude: props.location.longitude,\r\n        zoom: 9,\r\n      };\r\n    });\r\n  }, [props.location]);\r\n\r\n  const memoizedMarker = useCallback(() => {\r\n    return (\r\n      <Marker\r\n        longitude={props.location.longitude}\r\n        latitude={props.location.latitude}\r\n      >\r\n        <div className={classes.marker}></div> <b>{props.ip}</b>\r\n      </Marker>\r\n    );\r\n  }, [props.location, props.ip]);\r\n\r\n  return (\r\n    <ReactMapGL\r\n      mapStyle=\"mapbox://styles/mapbox/outdoors-v9\"\r\n      mapboxApiAccessToken={MAPBOX_API_KEY}\r\n      {...viewport}\r\n      onViewportChange={(nextViewport) => setViewport(nextViewport)}\r\n    >\r\n      {memoizedMarker()}\r\n    </ReactMapGL>\r\n  );\r\n}\r\n\r\nexport default Map;\r\n","export const MAPBOX_API_KEY =\r\n  'pk.eyJ1IjoiemFidGFuaSIsImEiOiJja3NicXZjaW4wOTR3MnZxcTFkbWc0OWsxIn0.FMBuaDyD8jhKrhAVAzrJyQ';\r\nexport const UNSPLASH_API_KEY = '0oJhi_V8eHNlNtyOLjykytXjPWxFd79JZ7FWUduq0vk';\r\nexport const IPGEOLOCATION_API_KEY = '8d8e8d860b914ac78cda85b380926ccb';\r\n","import React from 'react';\nimport Map from '../Map/Map';\nimport classes from './Result.module.css';\n\nconst Result = (props) => {\n  return (\n    <div className={classes.resultsSections}>\n      <section>\n        <div className={classes.result}>\n          <h2>\n            Results for {props.data.isIpOfClient && ' Your IP'}\n            {props.data.ip}\n          </h2>\n          <h3>\n            {props.data.city} - {props.data.country}\n          </h3>\n          <img\n            className={classes.flag}\n            alt={props.data.country}\n            src={props.data.flag}\n          />\n          <i>Random picture from {props.data.country}</i>\n          <img alt={props.data.country} src={props.data.img} />\n        </div>\n      </section>\n\n      <section>\n        {props.data.ready && (\n          <Map\n            ip={props.data.ip}\n            location={{\n              latitude: props.data.location.latitude,\n              longitude: props.data.location.longitude,\n            }}\n          />\n        )}\n      </section>\n    </div>\n  );\n};\n\nexport default Result;\n","import React from 'react';\r\nimport classes from './Search.module.css';\r\n\r\nconst Search = React.forwardRef((props, ref) => {\r\n  return (\r\n    <div className={classes.search}>\r\n      <input id=\"ip\" type=\"text\" placeholder=\"type IP here...\" ref={ref} />\r\n      <label htmlFor=\"ip\"> type something like: 8.209.36.0 </label>\r\n      <button type=\"button\" onClick={props.search}>\r\n        Search\r\n      </button>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Search;\r\n","import React, { useState } from 'react';\r\nimport classes from './Examples.module.css';\r\nconst Examples = (props) => {\r\n  const [examplesAreOpen, setExamplesAreOpen] = useState(false);\r\n  const examplesButtonHandler = () => {\r\n    setExamplesAreOpen((prevState) => {\r\n      return !prevState;\r\n    });\r\n  };\r\n  const examples = [\r\n    {\r\n      state: 'Your location',\r\n      ip: '',\r\n    },\r\n    {\r\n      state: 'Uruguay',\r\n      ip: '200.108.241.198',\r\n    },\r\n    {\r\n      state: 'Norway',\r\n      ip: '92.42.70.36',\r\n    },\r\n    {\r\n      state: 'Italy',\r\n      ip: '2.16.135.255',\r\n    },\r\n    {\r\n      state: 'Japan',\r\n      ip: '1.21.255.255',\r\n    },\r\n    {\r\n      state: 'Germany',\r\n      ip: '2.16.23.0',\r\n    },\r\n    {\r\n      state: 'Sweden',\r\n      ip: '2.16.66.0',\r\n    },\r\n  ];\r\n\r\n  const buttonText = examplesAreOpen\r\n    ? 'Fold IP examples'\r\n    : 'Click to see IP examples';\r\n  return (\r\n    <div className={classes.examples}>\r\n      <button\r\n        className={classes.examplesButton}\r\n        onClick={examplesButtonHandler}\r\n      >\r\n        {buttonText}\r\n      </button>\r\n      {examplesAreOpen && (\r\n        <div className={classes.examplesCon}>\r\n          {examples.map((example) => (\r\n            <button\r\n              key={example.state}\r\n              type=\"button\"\r\n              onClick={props.fetchExample.bind(\r\n                this,\r\n                example.ip,\r\n                example.ip === '' ? true : false\r\n              )}\r\n            >\r\n              {`${example.state} ${example.ip}`}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Examples;\r\n","import { createApi } from 'unsplash-js';\r\nimport { IPGEOLOCATION_API_KEY, UNSPLASH_API_KEY } from './api-config';\r\nconst unsplash = createApi({\r\n  accessKey: UNSPLASH_API_KEY,\r\n});\r\n\r\nconst defaultCountryImg =\r\n  'https://www.globe.gov/o/gov.globe.home.explorelearnearth.web/images/learn-earth-system-clean.png';\r\nexport const getIpData = async (ip, isIpOfClient) => {\r\n  let result = { error: false, data: null };\r\n  try {\r\n    if (ip === '' && !isIpOfClient) {\r\n      throw new Error('Please provide IP for the search bar');\r\n    }\r\n    const rawIpData = await fetch(\r\n      `https://api.ipgeolocation.io/ipgeo?apiKey=${IPGEOLOCATION_API_KEY}&ip=${ip}`\r\n    );\r\n    const ipData = await rawIpData.json();\r\n    if (!ipData.country_name) {\r\n      throw new Error('Sorry,no results for this IP address.');\r\n    }\r\n    const countryImg = await getImg(ipData.country_name);\r\n    result.data = {\r\n      flag: ipData.country_flag,\r\n      img: countryImg,\r\n      city: ipData.city,\r\n      country: ipData.country_name,\r\n      location: {\r\n        latitude: ipData.latitude * 1,\r\n        longitude: ipData.longitude * 1,\r\n      },\r\n    };\r\n  } catch (e) {\r\n    result.error = e.message;\r\n  } finally {\r\n    return result;\r\n  }\r\n};\r\n\r\nconst getImg = async (country) => {\r\n  let result;\r\n  try {\r\n    const imgData = await unsplash.search.getPhotos({\r\n      query: country,\r\n    });\r\n    result = imgData.response.results[0].urls.small;\r\n  } catch {\r\n    result = defaultCountryImg;\r\n  }\r\n  return result;\r\n};\r\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport LogoSvg from './components/Search/LogoSvg';\nimport Result from './components/Result/Result';\nimport Search from './components/Search/Search';\nimport Examples from './components/Examples/Examples';\nimport classes from './App.module.css';\nimport { getIpData } from './api-helper';\n\nconst initialUserData = {\n  country: null,\n  ip: null,\n  isIpOfClient: false,\n  ready: false,\n};\nfunction App() {\n  const [userData, setUserData] = useState(initialUserData);\n  const [error, setError] = useState(false);\n  const inputRef = useRef();\n\n  const fetchIPdata = useCallback(async (ip, isIpOfClient) => {\n    cleanSearchBar();\n    setUserData(initialUserData);\n    setError(false);\n    const ipData = await getIpData(ip, isIpOfClient);\n    if (ipData.error) {\n      setError(ipData.error);\n    } else {\n      setUserData((prevState) => {\n        return {\n          ...prevState,\n          ready: true,\n          ip: ip,\n          isIpOfClient: isIpOfClient,\n          ...ipData.data,\n        };\n      });\n    }\n  }, []);\n  const searchIpHandler = () => {\n    fetchIPdata(inputRef.current.value, false);\n  };\n  const cleanSearchBar = () => {\n    inputRef.current.value = '';\n  };\n\n  useEffect(() => {\n    fetchIPdata('', true);\n  }, [fetchIPdata]);\n  return (\n    <div className={classes.app}>\n      <section>\n        <div className={classes.title}>\n          <h1>Check that </h1> <LogoSvg />\n        </div>\n        <Search search={searchIpHandler} ref={inputRef} />\n        <Examples fetchExample={fetchIPdata} />\n      </section>\n\n      {userData.ready ? (\n        <Result data={userData} />\n      ) : (\n        <section>\n          <p>{error ? error : 'Loading IP Data..'}</p>\n        </section>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}